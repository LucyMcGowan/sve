<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Symmetric Vaccine Efficacy — est_sve • sve</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Symmetric Vaccine Efficacy — est_sve"><meta name="description" content="Computes the symmetric vaccine efficacy (SVE) and associated confidence
intervals based on observed proportions of events in vaccinated and
unvaccinated groups."><meta property="og:description" content="Computes the symmetric vaccine efficacy (SVE) and associated confidence
intervals based on observed proportions of events in vaccinated and
unvaccinated groups."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sve</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Symmetric Vaccine Efficacy</h1>

      <div class="d-none name"><code>est_sve.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the symmetric vaccine efficacy (SVE) and associated confidence
intervals based on observed proportions of events in vaccinated and
unvaccinated groups.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">est_sve</span><span class="op">(</span></span>
<span>  <span class="va">x0</span>,</span>
<span>  <span class="va">x1</span>,</span>
<span>  <span class="va">n0</span>,</span>
<span>  <span class="va">n1</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"profile"</span>, <span class="st">"tanh-wald"</span>, <span class="st">"wald"</span>, <span class="st">"exact"</span><span class="op">)</span>,</span>
<span>  smooth <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  epsilon <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x-">x0<a class="anchor" aria-label="anchor" href="#arg-x-"></a></dt>
<dd><p>Numeric. Number of events in the unvaccinated group.</p></dd>


<dt id="arg-x-">x1<a class="anchor" aria-label="anchor" href="#arg-x-"></a></dt>
<dd><p>Numeric. Number of events in the vaccinated group.</p></dd>


<dt id="arg-n-">n0<a class="anchor" aria-label="anchor" href="#arg-n-"></a></dt>
<dd><p>Integer. Sample size of the unvaccinated group.</p></dd>


<dt id="arg-n-">n1<a class="anchor" aria-label="anchor" href="#arg-n-"></a></dt>
<dd><p>Integer. Sample size of the vaccinated group.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>Confidence level for the interval (default is 0.95).</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Method used to construct the confidence interval.</p>
<p>One of:</p><ul><li><p><code>"profile"</code> (default): Profile likelihood confidence interval using likelihood
ratio test inversion. More accurate than Wald-based methods, especially
for small samples or extreme efficacy values.</p></li>
<li><p><code>"tanh-wald"</code>: Applies a hyperbolic arctangent
transform before forming the Wald interval, then transforms back.
Keeps the interval bounded in (-1,1).</p></li>
<li><p><code>"wald"</code>: Standard Wald interval on the untransformed scale.</p></li>
<li><p><code>"exact"</code>: Uses exact conditional inference by conditioning on total
cases and inverting the conditional binomial distribution (Clopper-Pearson
limits for the conditional parameter). Conservative due to discreteness,
but reliable for small samples or boundary cases.</p></li>
</ul></dd>


<dt id="arg-smooth">smooth<a class="anchor" aria-label="anchor" href="#arg-smooth"></a></dt>
<dd><p>Logical. Should variance smoothing be applied near the null?
Default is TRUE. Only used for Wald-based methods (<code>wald</code>, <code>tanh-wald</code>).
Ignored for profile likelihood. Recommended to avoid instability when
effect is near 1.</p></dd>


<dt id="arg-epsilon">epsilon<a class="anchor" aria-label="anchor" href="#arg-epsilon"></a></dt>
<dd><p>Numeric. The smoothing window. Only used for Wald-based
methods (<code>wald</code>, <code>tanh-wald</code>) when <code>smooth = TRUE</code>. If <code>NULL</code> and
<code>smooth = TRUE</code>, defaults to \(z_{\alpha/2}
  \sqrt{\hat{p}_0(1-\hat{p}_0)/n_0 + \hat{p}_1(1-\hat{p}_1)/n_1}\)
where \(\hat{p}_0 = x_0/n_0\), \(\hat{p}_1 = x_1/n_1\), and
\(z_{\alpha/2}\) is the critical value from the standard normal
distribution corresponding to the confidence level.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the following columns:</p><dl><dt>estimate</dt>
<dd><p>The symmetric vaccine efficacy estimate.</p></dd>

<dt>lower</dt>
<dd><p>Lower bound of the confidence interval.</p></dd>

<dt>upper</dt>
<dd><p>Upper bound of the confidence interval.</p></dd>

<dt>level</dt>
<dd><p>Confidence interval level.</p></dd>

<dt>method</dt>
<dd><p>Indicates the method used.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>By default, confidence intervals are constructed using the profile likelihood.
Two Wald-based intervals are available, one that uses the hyperbolic
arctangent (tanh-Wald) to keep the bounds within (-1, 1), and the
original-scale Wald. An exact method based on the Clopper-Pearson intervals
is also available.</p>
<p>The symmetric vaccine efficacy (SVE) is defined as:
$$
\text{SVE} = 2 \times \frac{p_0 - p_1}{p_0 + p_1 + |p_0 - p_1|}
$$</p>
<p>The profile likelihood method constructs confidence intervals by inverting
the likelihood ratio test. For a given SVE value, it finds the maximum
likelihood estimates of p0 and p1 subject to the constraint that their
SVE equals the specified value, then compares this constrained likelihood
to the unconstrained MLE.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example: unvaccinated 10% infection rate, vaccinated 5%, equal group sizes</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Profile likelihood method</span></span></span>
<span class="r-in"><span><span class="fu">est_sve</span><span class="op">(</span>x0 <span class="op">=</span> <span class="fl">10</span>, x1 <span class="op">=</span> <span class="fl">5</span>, n0 <span class="op">=</span> <span class="fl">100</span>, n1 <span class="op">=</span> <span class="fl">100</span>, method <span class="op">=</span> <span class="st">"profile"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   estimate      lower     upper level  method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.5 -0.2614476 0.8394814  0.95 Profile</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Wald (tanh-Wald)</span></span></span>
<span class="r-in"><span><span class="fu">est_sve</span><span class="op">(</span>x0 <span class="op">=</span> <span class="fl">100</span>, x1 <span class="op">=</span> <span class="fl">50</span>, n0 <span class="op">=</span> <span class="fl">1000</span>, n1 <span class="op">=</span> <span class="fl">1000</span>, method <span class="op">=</span> <span class="st">"tanh-wald"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   estimate     lower     upper level    method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.5 0.3191164 0.6457354  0.95 tanh-Wald</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Without transform (uses Wald interval)</span></span></span>
<span class="r-in"><span><span class="fu">est_sve</span><span class="op">(</span>x0 <span class="op">=</span> <span class="fl">100</span>, x1 <span class="op">=</span> <span class="fl">50</span>, n0 <span class="op">=</span> <span class="fl">1000</span>, n1 <span class="op">=</span> <span class="fl">1000</span>, method <span class="op">=</span> <span class="st">"wald"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   estimate     lower     upper level method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.5 0.3360176 0.6639824  0.95   Wald</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Exact method for small samples</span></span></span>
<span class="r-in"><span><span class="fu">est_sve</span><span class="op">(</span>x0 <span class="op">=</span> <span class="fl">10</span>, x1 <span class="op">=</span> <span class="fl">5</span>, n0 <span class="op">=</span> <span class="fl">100</span>, n1 <span class="op">=</span> <span class="fl">100</span>, method <span class="op">=</span> <span class="st">"exact"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   estimate      lower     upper level method</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.5 -0.3771404 0.8659031  0.95  Exact</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lucy D’Agostino McGowan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

