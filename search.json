[{"path":"https://lucymcgowan.github.io/sve/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 sve authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://lucymcgowan.github.io/sve/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Lucy D'Agostino McGowan. Maintainer.","code":""},{"path":"https://lucymcgowan.github.io/sve/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"McGowan LD (2025). sve: Symmetric Vaccine Efficacy. R package version 0.1.0, https://lucymcgowan.github.io/sve/.","code":"@Manual{,   title = {sve: Symmetric Vaccine Efficacy},   author = {Lucy D'Agostino McGowan},   year = {2025},   note = {R package version 0.1.0},   url = {https://lucymcgowan.github.io/sve/}, }"},{"path":"https://lucymcgowan.github.io/sve/index.html","id":"sve","dir":"","previous_headings":"","what":"Symmetric Vaccine Efficacy","title":"Symmetric Vaccine Efficacy","text":"goal sve facilitate calculation symmetric vaccine efficacy (SVE) corresponding variance confidence intervals.","code":""},{"path":"https://lucymcgowan.github.io/sve/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Symmetric Vaccine Efficacy","text":"can install development version sve like :","code":"devtools::install_github(\"LucyMcGowan/sve\")"},{"path":"https://lucymcgowan.github.io/sve/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Symmetric Vaccine Efficacy","text":"core function, est_sve(), computes symmetric vaccine efficacy confidence interval given event proportions sample sizes vaccinated unvaccinated groups. Example: unvaccinated 10% infection rate vaccinated 5% infection rate n0=n1=1,000n_0=n_1=1,000 default, confidence intervals calculated transformed scale back-transformed order ensure remain -1 1. want use transformation, can set option transform = FALSE:","code":"library(sve) est_sve(p0 = 0.10,          p1 = 0.05,          n0 = 1000,          n1 = 1000) #>   estimate     lower     upper level    method #> 1      0.5 0.3191164 0.6457354  0.95 tanh-Wald est_sve(p0 = 0.10,          p1 = 0.05,          n0 = 1000,          n1 = 1000,         transform = FALSE) #>   estimate     lower     upper level method #> 1      0.5 0.3360176 0.6639824  0.95   Wald"},{"path":"https://lucymcgowan.github.io/sve/index.html","id":"using-adjusted-effect-measures","dir":"","previous_headings":"","what":"Using adjusted effect measures","title":"Symmetric Vaccine Efficacy","text":"est_sve_adjusted() function computes SVE adjusted relative effect measures (e.g., hazard ratios Cox models, relative risks Poisson regression). example using Cox proportional hazards model simulated data set provided package (sim_trial_data).","code":"library(survival)  fit <- coxph(Surv(time, status) ~ vaccination + age + baseline_risk,               data = sim_trial_data) hr <- exp(coef(fit)[\"vaccination\"]) var_log_hr <- vcov(fit)[\"vaccination\", \"vaccination\"]  est_sve_adjusted(theta = hr, var_log_theta = var_log_hr) #>              estimate     lower     upper level    method #> vaccination 0.6776701 0.5923804 0.7479387  0.95 tanh-Wald"},{"path":"https://lucymcgowan.github.io/sve/index.html","id":"methods-overview","dir":"","previous_headings":"","what":"Methods overview","title":"Symmetric Vaccine Efficacy","text":"symmetric vaccine efficacy (SVE) defined SVE=2(p0−p1)p0+p1+|p0−p1|,\\text{SVE}=\\frac{2(p_0-p_1)}{p_0+p_1+|p_0-p_1|}, : p0p_0 = event proportion unvaccinated group p1p_1 = event proportion vaccinated group formulation ensures estimator bounded -1 1. Equivalently, can written terms relative effect measure, θ\\theta (relative risk hazard ratio): SVE=2(1−θ)1+θ+|1−θ|.\\text{SVE} = \\frac{2(1 - \\theta)}{1 + \\theta + |1 - \\theta|}.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/binomial_loglik.html","id":null,"dir":"Reference","previous_headings":"","what":"Binomial Log-Likelihood Helper — binomial_loglik","title":"Binomial Log-Likelihood Helper — binomial_loglik","text":"Computes binomial log-likelihood single proportion.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/binomial_loglik.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Binomial Log-Likelihood Helper — binomial_loglik","text":"","code":"binomial_loglik(x, n, p)"},{"path":"https://lucymcgowan.github.io/sve/reference/binomial_loglik.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Binomial Log-Likelihood Helper — binomial_loglik","text":"x Number successes n Number trials p Probability success","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/binomial_loglik.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Binomial Log-Likelihood Helper — binomial_loglik","text":"Log-likelihood value","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/est_sve.html","id":null,"dir":"Reference","previous_headings":"","what":"Symmetric Vaccine Efficacy — est_sve","title":"Symmetric Vaccine Efficacy — est_sve","text":"Computes symmetric vaccine efficacy (SVE) associated confidence intervals based observed proportions events vaccinated unvaccinated groups.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/est_sve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Symmetric Vaccine Efficacy — est_sve","text":"","code":"est_sve(   x0,   x1,   n0,   n1,   level = 0.95,   method = c(\"profile\", \"tanh-wald\", \"wald\", \"exact\"),   smooth = TRUE,   epsilon = NULL )"},{"path":"https://lucymcgowan.github.io/sve/reference/est_sve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Symmetric Vaccine Efficacy — est_sve","text":"x0 Numeric. Number events unvaccinated group. x1 Numeric. Number events vaccinated group. n0 Integer. Sample size unvaccinated group. n1 Integer. Sample size vaccinated group. level Confidence level interval (default 0.95). method Method used construct confidence interval. One : \"profile\" (default): Profile likelihood confidence interval using likelihood ratio test inversion. accurate Wald-based methods, especially small samples extreme efficacy values. \"tanh-wald\": Applies hyperbolic arctangent transform forming Wald interval, transforms back. Keeps interval bounded (-1,1). \"wald\": Standard Wald interval untransformed scale. \"exact\": Uses exact conditional inference conditioning total cases inverting conditional binomial distribution (Clopper-Pearson limits conditional parameter). Conservative due discreteness, reliable small samples boundary cases. smooth Logical. variance smoothing applied near null? Default TRUE. used Wald-based methods (wald, tanh-wald). Ignored profile likelihood. Recommended avoid instability effect near 1. epsilon Numeric. smoothing window. used Wald-based methods (wald, tanh-wald) smooth = TRUE. NULL smooth = TRUE, defaults \\(z_{\\alpha/2}   \\sqrt{\\hat{p}_0(1-\\hat{p}_0)/n_0 + \\hat{p}_1(1-\\hat{p}_1)/n_1}\\) \\(\\hat{p}_0 = x_0/n_0\\), \\(\\hat{p}_1 = x_1/n_1\\), \\(z_{\\alpha/2}\\) critical value standard normal distribution corresponding confidence level.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/est_sve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Symmetric Vaccine Efficacy — est_sve","text":"data frame following columns: estimate symmetric vaccine efficacy estimate. lower Lower bound confidence interval. upper Upper bound confidence interval. level Confidence interval level. method Indicates method used.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/est_sve.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Symmetric Vaccine Efficacy — est_sve","text":"default, confidence intervals constructed using profile likelihood. Two Wald-based intervals available, one uses hyperbolic arctangent (tanh-Wald) keep bounds within (-1, 1), original-scale Wald. exact method based Clopper-Pearson intervals also available. symmetric vaccine efficacy (SVE) defined : $$ \\text{SVE} = 2 \\times \\frac{p_0 - p_1}{p_0 + p_1 + |p_0 - p_1|} $$ profile likelihood method constructs confidence intervals inverting likelihood ratio test. given SVE value, finds maximum likelihood estimates p0 p1 subject constraint SVE equals specified value, compares constrained likelihood unconstrained MLE.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/est_sve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Symmetric Vaccine Efficacy — est_sve","text":"","code":"# Example: unvaccinated 10% infection rate, vaccinated 5%, equal group sizes  # Profile likelihood method est_sve(x0 = 10, x1 = 5, n0 = 100, n1 = 100, method = \"profile\") #>   estimate      lower     upper level  method #> 1      0.5 -0.2614476 0.8394814  0.95 Profile  # Wald (tanh-Wald) est_sve(x0 = 100, x1 = 50, n0 = 1000, n1 = 1000, method = \"tanh-wald\") #>   estimate     lower     upper level    method #> 1      0.5 0.3191164 0.6457354  0.95 tanh-Wald  # Without transform (uses Wald interval) est_sve(x0 = 100, x1 = 50, n0 = 1000, n1 = 1000, method = \"wald\") #>   estimate     lower     upper level method #> 1      0.5 0.3360176 0.6639824  0.95   Wald  # Exact method for small samples est_sve(x0 = 10, x1 = 5, n0 = 100, n1 = 100, method = \"exact\") #>   estimate      lower     upper level method #> 1      0.5 -0.3771404 0.8659031  0.95  Exact"},{"path":"https://lucymcgowan.github.io/sve/reference/profile_likelihood_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Profile Likelihood Confidence Interval for a Scalar Parameter — profile_likelihood_ci","title":"Profile Likelihood Confidence Interval for a Scalar Parameter — profile_likelihood_ci","text":"Function construct profile likelihood confidence intervals inverting likelihood ratio test.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/profile_likelihood_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Profile Likelihood Confidence Interval for a Scalar Parameter — profile_likelihood_ci","text":"","code":"profile_likelihood_ci(   param_hat,   log_lik_unconstrained,   constrained_ll_fn,   level = 0.95,   param_bounds = c(-0.9999, 0.9999),   tol = 1e-08 )"},{"path":"https://lucymcgowan.github.io/sve/reference/profile_likelihood_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Profile Likelihood Confidence Interval for a Scalar Parameter — profile_likelihood_ci","text":"param_hat MLE parameter interest log_lik_unconstrained Log-likelihood unconstrained MLE constrained_ll_fn Function takes parameter value returns constrained (profile) log-likelihood value level Confidence level (default 0.95) param_bounds Two-element vector specifying search bounds parameter (default c(-0.9999, 0.9999)) tol Tolerance root finding (default 1e-8)","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/profile_likelihood_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Profile Likelihood Confidence Interval for a Scalar Parameter — profile_likelihood_ci","text":"List lower upper confidence bounds","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/refit_model_constrained.html","id":null,"dir":"Reference","previous_headings":"","what":"Refit Model with Constrained Coefficient — refit_model_constrained","title":"Refit Model with Constrained Coefficient — refit_model_constrained","text":"Refits model one coefficient held fixed specified value.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/refit_model_constrained.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Refit Model with Constrained Coefficient — refit_model_constrained","text":"","code":"refit_model_constrained(model, data, effect_name, beta_fixed)"},{"path":"https://lucymcgowan.github.io/sve/reference/refit_model_constrained.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Refit Model with Constrained Coefficient — refit_model_constrained","text":"model Original fitted model data Data frame used fit original model effect_name Name variable constrain beta_fixed Value fix coefficient ","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/refit_model_constrained.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Refit Model with Constrained Coefficient — refit_model_constrained","text":"Log-likelihood constrained model","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sim_trial_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated Vaccine Trial Data — sim_trial_data","title":"Simulated Vaccine Trial Data — sim_trial_data","text":"simulated data set.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sim_trial_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated Vaccine Trial Data — sim_trial_data","text":"","code":"sim_trial_data"},{"path":[]},{"path":"https://lucymcgowan.github.io/sve/reference/sim_trial_data.html","id":"sim-trial-data","dir":"Reference","previous_headings":"","what":"sim_trial_data","title":"Simulated Vaccine Trial Data — sim_trial_data","text":"data frame 500 rows 60 columns: id ID vaccination Vaccine status (1 = vaccinated, 0 = unvaccinated) age Age baseline_risk Baseline risk (low, medium, high) time Survival time status Censoring status","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute SVE from Proportions — sve","title":"Compute SVE from Proportions — sve","text":"Compute SVE Proportions","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute SVE from Proportions — sve","text":"","code":"sve(p0, p1)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute SVE from Proportions — sve","text":"p0 Proportion unvaccinated group p1 Proportion vaccinated group","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute SVE from Proportions — sve","text":"Symmetric vaccine efficacy","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute SVE from Effect Measure — sve_effect","title":"Compute SVE from Effect Measure — sve_effect","text":"Compute SVE Effect Measure","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute SVE from Effect Measure — sve_effect","text":"","code":"sve_effect(theta)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute SVE from Effect Measure — sve_effect","text":"theta Relative effect measure","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute SVE from Effect Measure — sve_effect","text":"Symmetric vaccine efficacy","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect_profile_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Vectorized) — sve_effect_profile_ci","title":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Vectorized) — sve_effect_profile_ci","text":"Computes profile likelihood CI multiple effect measures.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect_profile_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Vectorized) — sve_effect_profile_ci","text":"","code":"sve_effect_profile_ci(theta, var_log_theta, level)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect_profile_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Vectorized) — sve_effect_profile_ci","text":"theta MLE theta (vector) var_log_theta Variance log(theta) (vector) level Confidence level","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect_profile_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Vectorized) — sve_effect_profile_ci","text":"Data frame estimate CI bounds","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect_profile_ci_single.html","id":null,"dir":"Reference","previous_headings":"","what":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Single) — sve_effect_profile_ci_single","title":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Single) — sve_effect_profile_ci_single","text":"Computes profile likelihood CI single effect measure.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect_profile_ci_single.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Single) — sve_effect_profile_ci_single","text":"","code":"sve_effect_profile_ci_single(theta_hat, var_log_theta, level)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect_profile_ci_single.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Single) — sve_effect_profile_ci_single","text":"theta_hat MLE theta (scalar) var_log_theta Variance log(theta) (scalar) level Confidence level","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_effect_profile_ci_single.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Profile Likelihood Confidence Interval for SVE from Effect Measure (Single) — sve_effect_profile_ci_single","text":"List estimate, lower upper confidence bounds","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Symmetric Vaccine Efficacy from Relative Effect Measures — sve_from_effect","title":"Symmetric Vaccine Efficacy from Relative Effect Measures — sve_from_effect","text":"Computes symmetric vaccine efficacy (SVE) associated confidence intervals relative effect measure (e.g., relative risk, hazard ratio, odds ratio) obtained regression model.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Symmetric Vaccine Efficacy from Relative Effect Measures — sve_from_effect","text":"","code":"sve_from_effect(   theta,   var_log_theta,   level = 0.95,   method = c(\"profile\", \"tanh-wald\", \"wald\"),   smooth = TRUE,   epsilon = NULL )"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Symmetric Vaccine Efficacy from Relative Effect Measures — sve_from_effect","text":"theta Numeric. relative effect measure (e.g., relative risk Poisson regression, hazard ratio Cox model, etc.). Can vector. var_log_theta Numeric. estimated variance log(theta), typically obtained model output (e.g., vcov(model) squared standard error). Must length theta. level Confidence level interval (default 0.95). method Method used construct confidence interval. One : \"profile\" (default): Profile likelihood-based confidence interval using normal approximation log(theta). interval inverts likelihood ratio test transforming SVE scale. use exact likelihood fitted regression model instead normal approximation, see sve_from_model(). \"tanh-wald\": Applies hyperbolic arctangent transform forming Wald interval, transforms back. Improves coverage estimate near +/- 1. \"wald\": Standard Wald interval untransformed scale. smooth Logical. variance smoothing applied near null? Default TRUE. used Wald-based methods (wald, tanh-wald). Ignored profile likelihood. Recommended avoid instability effect near 1. epsilon Numeric. smoothing window. used Wald-based methods (wald, tanh-wald) smooth = TRUE. NULL smooth = TRUE, defaults \\(z_{\\alpha/2}   \\sqrt{\\hat{p}_0(1-\\hat{p}_0)/n_0 + \\hat{p}_1(1-\\hat{p}_1)/n_1}\\) \\(\\hat{p}_0 = x_0/n_0\\), \\(\\hat{p}_1 = x_1/n_1\\), \\(z_{\\alpha/2}\\) critical value standard normal distribution corresponding confidence level.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Symmetric Vaccine Efficacy from Relative Effect Measures — sve_from_effect","text":"data frame following columns: estimate symmetric vaccine efficacy estimate. lower Lower bound confidence interval. upper Upper bound confidence interval. level Confidence interval level. method Indicates method used confidence interval.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_effect.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Symmetric Vaccine Efficacy from Relative Effect Measures — sve_from_effect","text":"symmetric vaccine efficacy (SVE) relative effect measure : $$ \\text{SVE} = \\frac{1 - \\theta}{\\max(1, \\theta)} $$ \\(\\theta\\) relative effect measure. \\(\\theta < 1\\), simplifies \\(\\text{SVE} = 1 - \\theta\\) (protective). \\(\\theta > 1\\), becomes \\(\\text{SVE} = (1 - \\theta)/\\theta\\) (harmful).","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_effect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Symmetric Vaccine Efficacy from Relative Effect Measures — sve_from_effect","text":"","code":"# Example with a hazard ratio from a Cox model # Suppose: HR = 0.7, SE(log(HR)) = 0.15 hr <- 0.7 se_log_hr <- 0.15 var_log_hr <- se_log_hr^2 sve_from_effect(theta = hr, var_log_theta = var_log_hr) #>   estimate      lower     upper level  method #> 1      0.3 0.06075634 0.4783036  0.95 Profile  # With tanh-Wald method sve_from_effect(theta = hr, var_log_theta = var_log_hr, method = \"tanh-wald\") #>   estimate      lower     upper level    method #> 1      0.3 0.08317729 0.4897028  0.95 tanh-Wald  # Example with multiple effect estimates (e.g., from subgroups) hrs <- c(0.5, 0.8, 1.2) var_log_hrs <- c(0.04, 0.025, 0.036) sve_from_effect(theta = hrs, var_log_theta = var_log_hrs) #>     estimate       lower     upper level  method #> 1  0.5000000  0.26003647 0.6621455  0.95 Profile #> 2  0.2000000 -0.08309734 0.4131823  0.95 Profile #> 3 -0.1666667 -0.42546748 0.1726732  0.95 Profile  # Using output directly from a Cox model if (FALSE) { # \\dontrun{ library(survival) fit <- coxph(Surv(time, status) ~ vaccination + age + baseline_risk,              data = sim_trial_data) hr <- exp(coef(fit)[\"vaccination\"]) var_log_hr <- vcov(fit)[\"vaccination\", \"vaccination\"] sve_from_effect(theta = hr, var_log_theta = var_log_hr) } # }"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Symmetric Vaccine Efficacy from Fitted Model — sve_from_model","title":"Symmetric Vaccine Efficacy from Fitted Model — sve_from_model","text":"Computes symmetric vaccine efficacy (SVE) associated confidence intervals fitted regression model (Cox, Poisson, etc.) using exact likelihood model.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Symmetric Vaccine Efficacy from Fitted Model — sve_from_model","text":"","code":"sve_from_model(   model,   effect_name,   data = NULL,   level = 0.95,   method = c(\"profile\", \"tanh-wald\", \"wald\"),   smooth = TRUE,   epsilon = NULL )"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Symmetric Vaccine Efficacy from Fitted Model — sve_from_model","text":"model fitted model object. Currently supports: coxph objects survival package glm objects family poisson binomial effect_name Character. Name effect variable model. data data frame containing original data used fit model. Required profile likelihood method. level Confidence level interval (default 0.95). method Method used construct confidence interval. One : \"profile\" (default): Profile likelihood confidence interval using exact likelihood fitted model. Requires data argument. \"tanh-wald\": Applies hyperbolic arctangent transform forming Wald interval, transforms back. Uses variance extracted model. \"wald\": Standard Wald interval untransformed scale. smooth Logical. variance smoothing applied near null? Default TRUE. used Wald-based methods (wald, tanh-wald). Ignored profile likelihood. Recommended avoid instability effect near 1. epsilon Numeric. smoothing window. used Wald-based methods (wald, tanh-wald) smooth = TRUE. NULL smooth = TRUE, defaults \\(z_{\\alpha/2}   \\sqrt{\\hat{p}_0(1-\\hat{p}_0)/n_0 + \\hat{p}_1(1-\\hat{p}_1)/n_1}\\) \\(\\hat{p}_0 = x_0/n_0\\), \\(\\hat{p}_1 = x_1/n_1\\), \\(z_{\\alpha/2}\\) critical value standard normal distribution corresponding confidence level.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Symmetric Vaccine Efficacy from Fitted Model — sve_from_model","text":"data frame following columns: estimate symmetric vaccine efficacy estimate. lower Lower bound confidence interval. upper Upper bound confidence interval. level Confidence interval level. method Indicates method used confidence interval.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_model.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Symmetric Vaccine Efficacy from Fitted Model — sve_from_model","text":"function extracts coefficient variance effect variable fitted model computes SVE. profile likelihood method, refits model effect coefficient constrained values corresponding different SVE values, using exact likelihood original model. symmetric vaccine efficacy (SVE) relative effect measure : $$ \\text{SVE} = \\frac{1 - \\theta}{\\max(1, \\theta)} $$ \\(\\theta = \\exp(\\beta)\\) hazard ratio, relative risk, odds ratio model.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_from_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Symmetric Vaccine Efficacy from Fitted Model — sve_from_model","text":"","code":"if (FALSE) { # \\dontrun{ library(survival)  # Cox proportional hazards model fit_cox <- coxph(Surv(time, status) ~ vaccination + age,                  data = sim_trial_data) sve_from_model(fit_cox, \"vaccination\", data = sim_trial_data)  # Poisson regression fit_poisson <- glm(status ~ vaccination + age,                    family = poisson(), data = sim_trial_data) sve_from_model(fit_poisson, \"vaccination\", data = sim_trial_data)  # Wald methods don't require data sve_from_model(fit_cox, \"vaccination\", method = \"wald\") } # }"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_model_profile_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Profile Likelihood CI for SVE from Model — sve_model_profile_ci","title":"Profile Likelihood CI for SVE from Model — sve_model_profile_ci","text":"Computes profile likelihood confidence interval refitting model constrained effect coefficient.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_model_profile_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Profile Likelihood CI for SVE from Model — sve_model_profile_ci","text":"","code":"sve_model_profile_ci(model, data, effect_name, level)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_model_profile_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Profile Likelihood CI for SVE from Model — sve_model_profile_ci","text":"model Fitted model object data Data frame used fit model effect_name Name effect variable level Confidence level","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_model_profile_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Profile Likelihood CI for SVE from Model — sve_model_profile_ci","text":"Data frame estimate CI bounds","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_p0_bounds.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine Valid p0 Range for SVE Constraint — sve_p0_bounds","title":"Determine Valid p0 Range for SVE Constraint — sve_p0_bounds","text":"Determine Valid p0 Range SVE Constraint","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_p0_bounds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine Valid p0 Range for SVE Constraint — sve_p0_bounds","text":"","code":"sve_p0_bounds(sve_target, tol = 1e-08)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_p0_bounds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine Valid p0 Range for SVE Constraint — sve_p0_bounds","text":"sve_target Target SVE value tol Tolerance bounds (default 1e-8)","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_p0_bounds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine Valid p0 Range for SVE Constraint — sve_p0_bounds","text":"Two-element vector lower upper bounds p0","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_profile_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Profile Likelihood Confidence Interval for SVE (Vectorized) — sve_profile_ci","title":"Profile Likelihood Confidence Interval for SVE (Vectorized) — sve_profile_ci","text":"Computes profile likelihood CI multiple sets proportions.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_profile_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Profile Likelihood Confidence Interval for SVE (Vectorized) — sve_profile_ci","text":"","code":"sve_profile_ci(x0, x1, n0, n1, level = 0.95)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_profile_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Profile Likelihood Confidence Interval for SVE (Vectorized) — sve_profile_ci","text":"x0 Number events unvaccinated group (vector) x1 Number events vaccinated group (vector) n0 Sample size unvaccinated group (vector) n1 Sample size vaccinated group (vector) level Confidence level","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_profile_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Profile Likelihood Confidence Interval for SVE (Vectorized) — sve_profile_ci","text":"Data frame estimate CI bounds","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_profile_ci_single.html","id":null,"dir":"Reference","previous_headings":"","what":"Profile Likelihood Confidence Interval for SVE (Single Observation) — sve_profile_ci_single","title":"Profile Likelihood Confidence Interval for SVE (Single Observation) — sve_profile_ci_single","text":"Computes profile likelihood CI single set proportions.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_profile_ci_single.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Profile Likelihood Confidence Interval for SVE (Single Observation) — sve_profile_ci_single","text":"","code":"sve_profile_ci_single(x0, x1, n0, n1, level = 0.95)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_profile_ci_single.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Profile Likelihood Confidence Interval for SVE (Single Observation) — sve_profile_ci_single","text":"x0 Number events unvaccinated group (scalar) x1 Number events vaccinated group (scalar) n0 Sample size unvaccinated group (scalar) n1 Sample size vaccinated group (scalar) level Confidence level","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_profile_ci_single.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Profile Likelihood Confidence Interval for SVE (Single Observation) — sve_profile_ci_single","text":"List estimate CI bounds","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_to_p1.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert SVE to Proportions Given p0 — sve_to_p1","title":"Convert SVE to Proportions Given p0 — sve_to_p1","text":"Given p0 target SVE, solve p1.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_to_p1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert SVE to Proportions Given p0 — sve_to_p1","text":"","code":"sve_to_p1(p0, sve_target)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_to_p1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert SVE to Proportions Given p0 — sve_to_p1","text":"p0 Proportion group 0 sve_target Target SVE value","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_to_p1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert SVE to Proportions Given p0 — sve_to_p1","text":"Corresponding p1 value","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_to_theta.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert SVE to Theta (Relative Risk) — sve_to_theta","title":"Convert SVE to Theta (Relative Risk) — sve_to_theta","text":"Convert SVE Theta (Relative Risk)","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_to_theta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert SVE to Theta (Relative Risk) — sve_to_theta","text":"","code":"sve_to_theta(sve)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_to_theta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert SVE to Theta (Relative Risk) — sve_to_theta","text":"sve Symmetric vaccine efficacy value","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_to_theta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert SVE to Theta (Relative Risk) — sve_to_theta","text":"Corresponding theta value","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Variance of SVE via Delta Method — sve_var","title":"Compute Variance of SVE via Delta Method — sve_var","text":"Compute Variance SVE via Delta Method","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Variance of SVE via Delta Method — sve_var","text":"","code":"sve_var(p0, p1, n0, n1, smooth, epsilon, level)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Variance of SVE via Delta Method — sve_var","text":"p0 Proportion unvaccinated group p1 Proportion vaccinated group n0 Sample size unvaccinated group n1 Sample size vaccinated group smooth Indicator smoothing epsilon Smoothing window level confidence level (smoothing)","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_var.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Variance of SVE via Delta Method — sve_var","text":"Variance SVE","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_var_effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Variance of SVE via Delta Method — sve_var_effect","title":"Compute Variance of SVE via Delta Method — sve_var_effect","text":"Compute Variance SVE via Delta Method","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_var_effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Variance of SVE via Delta Method — sve_var_effect","text":"","code":"sve_var_effect(theta, var_log_theta, smooth, epsilon, level)"},{"path":"https://lucymcgowan.github.io/sve/reference/sve_var_effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Variance of SVE via Delta Method — sve_var_effect","text":"theta Relative effect measure var_log_theta Variance log(theta) smooth Logical. variance smoothing applied near null? Default TRUE. used Wald-based methods (wald, tanh-wald). Ignored profile likelihood. Recommended avoid instability effect near 1. epsilon Numeric. smoothing window. used Wald-based methods (wald, tanh-wald) smooth = TRUE. NULL smooth = TRUE, defaults \\(z_{\\alpha/2}   \\sqrt{\\hat{p}_0(1-\\hat{p}_0)/n_0 + \\hat{p}_1(1-\\hat{p}_1)/n_1}\\) \\(\\hat{p}_0 = x_0/n_0\\), \\(\\hat{p}_1 = x_1/n_1\\), \\(z_{\\alpha/2}\\) critical value standard normal distribution corresponding confidence level.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/sve_var_effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Variance of SVE via Delta Method — sve_var_effect","text":"Variance SVE","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/two_sample_binomial_loglik.html","id":null,"dir":"Reference","previous_headings":"","what":"Two-Sample Binomial Log-Likelihood — two_sample_binomial_loglik","title":"Two-Sample Binomial Log-Likelihood — two_sample_binomial_loglik","text":"Computes log-likelihood two independent binomial samples.","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/two_sample_binomial_loglik.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Two-Sample Binomial Log-Likelihood — two_sample_binomial_loglik","text":"","code":"two_sample_binomial_loglik(x0, x1, n0, n1, p0, p1)"},{"path":"https://lucymcgowan.github.io/sve/reference/two_sample_binomial_loglik.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Two-Sample Binomial Log-Likelihood — two_sample_binomial_loglik","text":"x0 Number events group 0 x1 Number events group 1 n0 Sample size group 0 n1 Sample size group 1 p0 Probability group 0 p1 Probability group 1","code":""},{"path":"https://lucymcgowan.github.io/sve/reference/two_sample_binomial_loglik.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Two-Sample Binomial Log-Likelihood — two_sample_binomial_loglik","text":"Log-likelihood value","code":""}]
