% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sve_from_model.R
\name{sve_from_model}
\alias{sve_from_model}
\title{Symmetric Vaccine Efficacy from Fitted Model}
\usage{
sve_from_model(
  model,
  effect_name,
  data = NULL,
  level = 0.95,
  method = c("profile", "tanh-wald", "wald")
)
}
\arguments{
\item{model}{A fitted model object. Currently supports:
\itemize{
\item \code{coxph} objects from the survival package
\item \code{glm} objects with family poisson or binomial
}}

\item{effect_name}{Character. Name of the effect variable in the model.}

\item{data}{A data frame containing the original data used to fit the model.
Required for profile likelihood method.}

\item{level}{Confidence level for the interval (default is 0.95).}

\item{method}{Method used to construct the confidence interval.

One of:
\itemize{
\item \code{"profile"} (default): Profile likelihood confidence interval using the
exact likelihood from the fitted model.
Requires \code{data} argument.
\item \code{"tanh-wald"}: Applies a hyperbolic arctangent
transform before forming the Wald interval, then transforms back.
Uses the variance extracted from the model.
\item \code{"wald"}: Standard Wald interval on the untransformed scale.
}}
}
\value{
A data frame with the following columns:
\describe{
\item{estimate}{The symmetric vaccine efficacy estimate.}
\item{lower}{Lower bound of the confidence interval.}
\item{upper}{Upper bound of the confidence interval.}
\item{level}{Confidence interval level.}
\item{method}{Indicates the method used for the confidence interval.}
}
}
\description{
Computes the symmetric vaccine efficacy (SVE) and associated confidence
intervals from a fitted regression model (Cox, Poisson, etc.) using
the exact likelihood from the model.
}
\details{
This function extracts the coefficient and variance for the effect
variable from a fitted model and computes SVE. For the profile likelihood
method, it refits the model with the effect coefficient constrained
to values corresponding to different SVE values, using the exact likelihood
from the original model.

The symmetric vaccine efficacy (SVE) from a relative effect measure is:
\deqn{
\text{SVE} = \frac{1 - \theta}{\max(1, \theta)}
}
where \eqn{\theta = \exp(\beta)} is the hazard ratio, relative risk, or
odds ratio from the model.
}
\examples{
\dontrun{
library(survival)

# Cox proportional hazards model
fit_cox <- coxph(Surv(time, status) ~ vaccination + age,
                 data = sim_trial_data)
sve_from_model(fit_cox, "vaccination", data = sim_trial_data)

# Poisson regression
fit_poisson <- glm(status ~ vaccination + age,
                   family = poisson(), data = sim_trial_data)
sve_from_model(fit_poisson, "vaccination", data = sim_trial_data)

# Wald methods don't require data
sve_from_model(fit_cox, "vaccination", method = "wald")
}

}
